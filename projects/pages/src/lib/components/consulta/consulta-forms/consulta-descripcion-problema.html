<div class="u-flex-between" *ngIf="theCase">
  <div class="subtitulo-subseccion">Causa de reclamaci칩n </div>
  <div class="numCuenta u-flex-between u-mw-290px">
      <div>{{ theCase.searchType.label }}:</div>
      <div><strong>{{ theCase.searchType.value }}</strong></div>
  </div>
</div>

<div class="row" [formGroup]="form">
  <div class="col-4 col-s-12" formArrayName="descriptionOfTheProblem">
    <div [formGroupName]="idx">
      <label>Unidad de Negocio</label>
      <mat-select formControlName="business" (selectionChange)="businessSelected($event)">
        <mat-option value="-1">-- SELECCIONAR --</mat-option>
        <mat-option *ngFor="let businees of businessCatalogue" [value]="businees.key">{{ businees.value | uppercase }}
        </mat-option>
      </mat-select>
    </div>
  </div>
  <div class="col-4 col-s-12" formArrayName="descriptionOfTheProblem">
    <div [formGroupName]="idx">
      <label>Tipo de producto o servicio</label>
      <mat-select formControlName="productType" (selectionChange)="productTypeSelected($event)">
        <mat-option value="-1">-- SELECCIONAR --</mat-option>
        <mat-option *ngFor="let productType of productTypes$ | async" [value]="productType.key">
          {{ productType.value }}
        </mat-option>
      </mat-select>
    </div>
  </div>
  <div class="col-4 col-s-12" formArrayName="descriptionOfTheProblem">
    <div [formGroupName]="idx">
      <label>Unidad Comercial</label>
      <mat-select formControlName="tradeName" (selectionChange)="tradeNameSelected($event)">
        <mat-option value="-1">-- SELECCIONAR --</mat-option>
        <mat-option *ngFor="let tradeName of tradeNames$ | async" [value]="tradeName.key">
          {{ tradeName.value | uppercase }}</mat-option>
      </mat-select>
    </div>
  </div>
</div>

<div class="row" [formGroup]="form">
  <div class="col-4 col-s-12" formArrayName="descriptionOfTheProblem">
    <div [formGroupName]="idx">
      <label>Canal de la operaci칩n</label>
      <mat-select formControlName="channel" (selectionChange)="channelSelected($event)">
        <mat-option value="-1">-- SELECCIONAR --</mat-option>
        <mat-option *ngFor="let channel of channels$ | async" [value]="channel.key">{{ channel.value | uppercase }}
        </mat-option>
      </mat-select>
    </div>
  </div>
  <div class="col-4 col-s-12" formArrayName="descriptionOfTheProblem">
    <div [formGroupName]="idx">
      <label>Causa de la inconformidad</label>
      <mat-select formControlName="cause">
        <mat-option value="-1">-- SELECCIONAR --</mat-option>
        <mat-option *ngFor="let cause of causes$ | async" [value]="cause.key">{{ cause.value | uppercase}}
        </mat-option>
      </mat-select>
    </div>
  </div>
  <div class="col-4 col-s-12" formArrayName="descriptionOfTheProblem">
    <div [formGroupName]="idx">
      <label>Monto de la reclamaci칩n</label>
      <input type="text" formControlName="reclaimedAmount">
    </div>
  </div>
</div>

<div class="row" [formGroup]="form">
  <div class="col-4 col-s-12" formArrayName="descriptionOfTheProblem">
    <div [formGroupName]="idx">
      <label>Importe bonificado o cancelado</label>
      <input type="text" formControlName="subsidizedAmount">
    </div>
  </div>
  <div class="col-4 col-s-12" formArrayName="descriptionOfTheProblem">
    <div [formGroupName]="idx">
      <label>No. de transacciones reclamadas</label>
      <input type="number" formControlName="txsNumber">
    </div>
  </div>
  <div class="col-4 col-s-12" formArrayName="descriptionOfTheProblem">
    <div class="col-6 u-ex-right-u" [formGroupName]="idx">
      <label class="d-flex justify-content-center">Fallo</label>
      <div>
        <mat-radio-group class="d-flex justify-content-around" [name]="'failed'+idx" formControlName="opinion">
          <div class="col-6 u-ex-left-u">
            <mat-radio-button value="1">Procede</mat-radio-button>
          </div>
          <div class="col-6 u-p-u ">
            <mat-radio-button value="0">No procede</mat-radio-button>
          </div>
        </mat-radio-group>
      </div>
    </div>
  </div>
</div>

<div class="row" [formGroup]="form">
  <div class="col-12 col-s-12" formArrayName="descriptionOfTheProblem">
    <div [formGroupName]="idx">
      <label>Notas sobre el asunto</label>
      <input type="text" formControlName="comments">
    </div>
    </div>
</div>

<div class="row" style="border-bottom: 1px dotted #E6EFE6;">
  <div class="col-12 col-s-12 u-flex-end">
      <div class="col-4 u-ex-right-u u-flex-end">
          <button type="button" mat-flat-button class="btn u-flex-center btnSecundary descripcionBtn u-mr-1" ><mat-icon matDatepickerToggleIcon svgIcon="ico-agregar-negro" class="icoBtn"></mat-icon><div>Eliminar <br> la causa</div></button>
          <button type="button" mat-flat-button class="btn u-flex-center btnTertiary descripcionBtn u-mr-1" ><mat-icon matDatepickerToggleIcon svgIcon="ico-agregar-negro" class="icoBtn"></mat-icon><div>Limpiar <br> campos</div></button>
          <button type="button" mat-flat-button color="primary" class="btn u-flex-center btnPrimary descripcionBtn" ><mat-icon matDatepickerToggleIcon svgIcon="ico-agregar-negro" class="icoBtn"></mat-icon><div>A침adir <br> otra causa</div></button>
      </div>
  </div>
</div>